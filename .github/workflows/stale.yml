name: Mark stale issues and pull requests

on:
  schedule:
  - cron: "30 1 * * *"

jobs:
  stale:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/stale@v3
      with:
        repo-token: ${{ secrets.GITHUB_TOKEN }}
        stale-issue-message: 'This issue has been automatically marked as stale because it has not had activity from the community in the last 30 days. It will be closed if no further activity occurs within 40 days. If the issue is labelled with any of the work labels (e.g bug, enhancement, documentation, or tests) then the issue will not auto-close.'
        close-issue-message: 'This issue has been automatically closed because it is has not had activity from the community in the last 40 days. If this issue was wrongly closed, for a issue author please comment and re-open it, if you are not the issue author comment with a reason for it to be reopened and tag a maintainer in the comment.'
        exempt-issue-labels: 'bug,enhancement,tests,documentation,resource proposal,on hold'
        stale-issue-label: 'stale' 
        stale-pr-message: 'Labeling this pull request (PR) as abandoned since it has gone 30 days or more since the last update. An abandoned PR can be continued by another contributor. The abandoned label will be removed if work on this PR is taken up again. It will be closed if no further activity occurs within 40 days.'
        close-pr-message: 'This pull request (PR) has been automatically closed because it is has not had activity from the community in the last 40 days. If this PR was wrongly closed, for a PR author please comment and re-open it, if you are not the PR author comment with a reason for it to be reopened and tag a maintainer in the comment.'
        exempt-pr-labels: 'needs review,on hold,ready for merge'
        stale-pr-label: 'abandoned'
        days-before-stale: 30
        days-before-close: 40
        remove-stale-when-updated: true
